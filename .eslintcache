[{"C:\\Projects\\pic-search\\src\\index.js":"1","C:\\Projects\\pic-search\\src\\reportWebVitals.js":"2","C:\\Projects\\pic-search\\src\\App.js":"3","C:\\Projects\\pic-search\\src\\components\\search\\Searcht.js":"4","C:\\Projects\\pic-search\\src\\components\\search\\SearchForm.js":"5","C:\\Projects\\pic-search\\src\\reducers\\index.js":"6","C:\\Projects\\pic-search\\src\\actions\\types.js":"7","C:\\Projects\\pic-search\\src\\shared-logic\\validators.js":"8","C:\\Projects\\pic-search\\src\\actions\\index.js":"9","C:\\Projects\\pic-search\\src\\components\\search\\SearchHistory.js":"10","C:\\Projects\\pic-search\\src\\components\\Pictures.js":"11","C:\\Projects\\pic-search\\src\\shared-logic\\shared-components.js":"12","C:\\Projects\\pic-search\\src\\shared-logic\\api-call.js":"13"},{"size":856,"mtime":1610533894588,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":1607497382521,"results":"16","hashOfConfig":"15"},{"size":334,"mtime":1610576879557,"results":"17","hashOfConfig":"15"},{"size":704,"mtime":1610576875623,"results":"18","hashOfConfig":"15"},{"size":2807,"mtime":1610624446878,"results":"19","hashOfConfig":"15"},{"size":614,"mtime":1610527183952,"results":"20","hashOfConfig":"15"},{"size":85,"mtime":1610490610661,"results":"21","hashOfConfig":"15"},{"size":66,"mtime":1610481864307,"results":"22","hashOfConfig":"15"},{"size":712,"mtime":1610624446873,"results":"23","hashOfConfig":"15"},{"size":819,"mtime":1610576876898,"results":"24","hashOfConfig":"15"},{"size":1918,"mtime":1610624446876,"results":"25","hashOfConfig":"15"},{"size":135,"mtime":1610535032396,"results":"26","hashOfConfig":"15"},{"size":347,"mtime":1610624469645,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1651k5n",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"30"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Projects\\pic-search\\src\\index.js",[],["60","61"],"C:\\Projects\\pic-search\\src\\reportWebVitals.js",[],"C:\\Projects\\pic-search\\src\\App.js",[],"C:\\Projects\\pic-search\\src\\components\\search\\Searcht.js",[],"C:\\Projects\\pic-search\\src\\components\\search\\SearchForm.js",["62"],"import React, { useState, useEffect } from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {addToHistory} from '../../actions/index'\r\nimport {required} from '../../shared-logic/validators'\r\n\r\nfunction SearchForm({smallFormClass}) {\r\n\r\n\r\n    const [formFields] = useState([\r\n        {name: \"search\", text: \"What do you want to search?\", validators: [required]}\r\n    ])\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [classSelection, setClassSelection] = useState({\r\n        form: \"\",\r\n        button: \"\"\r\n    })\r\n\r\n    useEffect(() => {\r\n        const tempObj = {...classSelection}\r\n        tempObj.form = smallFormClass ? \"form form__small\" : \"form\"\r\n        tempObj.button = smallFormClass ? \"button button--light button--small\" : \"button button--light button--big\"\r\n        setClassSelection(tempObj)\r\n    }, [smallFormClass])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const formObj = {}\r\n        let formValid = true\r\n        formFields.forEach(field => {\r\n            formObj[field.name] = e.target[field.name] ? e.target[field.name].value : undefined\r\n            if(!e.target[field.name].getAttribute(\"valid\")) {\r\n                formValid = false\r\n            }\r\n        })\r\n\r\n        if(formValid) {\r\n            dispatch(addToHistory(formObj))\r\n            history.push(`/search?q=${formObj.search}`)\r\n        }\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const index = e.target.getAttribute(\"index\")\r\n        const validatorsArr = formFields[index].validators\r\n        e.target.setAttribute(\"valid\", 1)\r\n        if(validatorsArr.length > 0) {\r\n            validatorsArr.forEach(callback => {\r\n                if(callback(e.target.value)) {\r\n                    e.target.setAttribute(\"valid\", 0)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return(\r\n        <form onSubmit={handleSubmit} className={classSelection.form}>\r\n            {formFields.map((feild, index) => \r\n                <div key={index} className=\"form__item\">\r\n                    <input\r\n                        index={index}\r\n                        type=\"text\" \r\n                        name={feild.name} \r\n                        id={feild.name} \r\n                        onChange={handleChange} \r\n                        placeholder={smallFormClass ? \"search\" : \" \"}\r\n                        valid={feild.validators.length === 0 ? 1 : 0}/>\r\n                    <label htmlFor={feild.name}>{feild.text}</label> \r\n                </div>\r\n            )}\r\n            <div className=\"form__button\">\r\n                <button className={classSelection.button} \r\n                    type=\"submit\">Search</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchForm","C:\\Projects\\pic-search\\src\\reducers\\index.js",["63"],"import {SEARCH_HISTORY, PICS_ARRAY} from '../actions/types'\r\n\r\nexport default function(state={}, action) {\r\n    switch(action.type) {\r\n        case SEARCH_HISTORY:\r\n            let array = [...state.searchHistory]\r\n            if(array[0] !== action.payload) {\r\n                array.unshift(action.payload)\r\n            }\r\n            if(array && array.length > 3) {\r\n                array.pop()\r\n            }\r\n            return {...state, searchHistory: array}\r\n\r\n        case PICS_ARRAY:\r\n            return {...state, picsArray: action.payload}\r\n        \r\n        default:\r\n            return state\r\n    }\r\n}","C:\\Projects\\pic-search\\src\\actions\\types.js",[],"C:\\Projects\\pic-search\\src\\shared-logic\\validators.js",[],["64","65"],"C:\\Projects\\pic-search\\src\\actions\\index.js",[],"C:\\Projects\\pic-search\\src\\components\\search\\SearchHistory.js",["66"],"import React, { useEffect } from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {searchPicsAction} from '../../actions'\r\n\r\nfunction SearchHistory() {\r\n\r\n    const searchHistory = useSelector(state => state.searchHistory)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const handleClick = (e) => {\r\n        dispatch(searchPicsAction({search: e.target.getAttribute(\"value\")}))\r\n        history.push(`/search?q=${e.target.getAttribute(\"value\")}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-history\">\r\n            <ul>\r\n                {searchHistory.map((item, index) => <li key={index} value={item} onClick={handleClick}>{item}</li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchHistory","C:\\Projects\\pic-search\\src\\components\\Pictures.js",["67","68","69","70"],"import React, { useEffect, useState } from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\nimport {useQuery} from '../shared-logic/shared-components'\r\nimport { addToHistory} from '../actions'\r\nimport {loadPics} from '../shared-logic/api-call'\r\n\r\nfunction Pictures() {\r\n\r\n    const query = useQuery()\r\n    const history = useHistory()\r\n    const searchHistory = useSelector(state => state.searchHistory)\r\n    const [gallery, setGallery] = useState([])\r\n    const [galleryHistory, setGalleryHistory] = useState([])\r\n\r\n    useEffect(() => {\r\n        const q = query.get(\"q\")\r\n\r\n        if(!q) {\r\n            history.push(\"/\")\r\n        } else {\r\n            addToHistory({search: q})\r\n        }\r\n    }, [])\r\n\r\n    const loadGallery = (page) => {\r\n        loadPics(query.get(\"q\"), page).then(resp => {\r\n            const tempArr = page===1 ? [] : [...galleryHistory]\r\n            resp.data.hits.forEach(pic => {\r\n                tempArr.push(<div key={tempArr.length} className=\"gallery__item\">\r\n                    <img  src={pic.previewURL} />\r\n                </div>)\r\n            })\r\n            setGalleryHistory(tempArr)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        loadGallery(1)\r\n        \r\n    }, [searchHistory])\r\n\r\n    useEffect(() => {\r\n\r\n        setGallery(galleryHistory)\r\n\r\n        function scrollPagination() {\r\n            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n                loadGallery(galleryHistory.length / 50 + 1)\r\n            }\r\n        }\r\n        window.addEventListener('scroll',scrollPagination)\r\n        \r\n\r\n        return () => {\r\n            window.removeEventListener(\"scroll\", scrollPagination)\r\n        }\r\n    }, [galleryHistory])\r\n\r\n\r\n    return(\r\n        <div className=\"gallery\">\r\n            {\r\n                [...gallery]\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pictures","C:\\Projects\\pic-search\\src\\shared-logic\\shared-components.js",[],"C:\\Projects\\pic-search\\src\\shared-logic\\api-call.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":25,"column":8,"nodeType":"77","endLine":25,"endColumn":24,"suggestions":"78"},{"ruleId":"79","severity":1,"message":"80","line":3,"column":1,"nodeType":"81","endLine":21,"endColumn":2},{"ruleId":"71","replacedBy":"82"},{"ruleId":"73","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":1,"column":17,"nodeType":"86","messageId":"87","endLine":1,"endColumn":26},{"ruleId":"75","severity":1,"message":"88","line":24,"column":8,"nodeType":"77","endLine":24,"endColumn":10,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":31,"column":21,"nodeType":"92","endLine":31,"endColumn":50},{"ruleId":"75","severity":1,"message":"93","line":42,"column":8,"nodeType":"77","endLine":42,"endColumn":23,"suggestions":"94"},{"ruleId":"75","severity":1,"message":"93","line":59,"column":8,"nodeType":"77","endLine":59,"endColumn":24,"suggestions":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'classSelection'. Either include it or remove the dependency array.","ArrayExpression",["98"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration",["96"],["97"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'history' and 'query'. Either include them or remove the dependency array.",["99"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'loadGallery'. Either include it or remove the dependency array.",["100"],["101"],"no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},{"desc":"104","fix":"105"},{"desc":"106","fix":"107"},{"desc":"108","fix":"109"},"Update the dependencies array to be: [classSelection, smallFormClass]",{"range":"110","text":"111"},"Update the dependencies array to be: [history, query]",{"range":"112","text":"113"},"Update the dependencies array to be: [loadGallery, searchHistory]",{"range":"114","text":"115"},"Update the dependencies array to be: [galleryHistory, loadGallery]",{"range":"116","text":"117"},[903,919],"[classSelection, smallFormClass]",[746,748],"[history, query]",[1257,1272],"[loadGallery, searchHistory]",[1736,1752],"[galleryHistory, loadGallery]"]